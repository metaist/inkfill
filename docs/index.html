<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>inkfill API documentation</title>
<meta name="description" content="Multi-document template engine …" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>inkfill</code></h1>
</header>
<section id="section-intro">
<p>Multi-document template engine.</p>
<p align="center">
<a href="https://metaist.github.io/inkfill/"><img alt="Inky the Squid" width="200" src="https://raw.githubusercontent.com/metaist/inkfill/main/inky-the-squid.png" /></a><br />
<em>Inky the Squid</em>
</p>
<p align="center">
<a href="https://github.com/metaist/inkfill/actions/workflows/ci.yaml"><img alt="Build" src="https://img.shields.io/github/actions/workflow/status/metaist/inkfill/.github/workflows/ci.yaml?branch=main&logo=github"/></a>
<a href="https://pypi.org/project/inkfill"><img alt="PyPI" src="https://img.shields.io/pypi/v/inkfill.svg?color=blue" /></a>
<a href="https://pypi.org/project/inkfill"><img alt="Supported Python Versions" src="https://img.shields.io/pypi/pyversions/inkfill" /></a>
</p>
<h2 id="why">Why?</h2>
<p><code><a title="inkfill" href="#inkfill">inkfill</a></code> helps you generate multiple documents using <code>jinja2</code> templates and <code>toml</code> configuration files.</p>
<h2 id="license">License</h2>
<p><a href="https://github.com/metaist/inkfill/blob/main/LICENSE.md">MIT License</a></p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Multi-document template engine.

.. include:: ../../README.md
   :start-line: 2
&#34;&#34;&#34;
from .numerals import commafy
from .numerals import NumFormat
from .numerals import to_alpha
from .numerals import to_cardinal
from .numerals import to_decimal
from .numerals import to_nth
from .numerals import to_ordinal
from .numerals import to_roman

from .filters import compound
from .filters import day_of_month
from .filters import dollars
from .filters import USD

from .xref import Division
from .xref import Ref
from .xref import RefFormat
from .xref import Refs
from .xref import slugify

__version__ = &#34;0.1.0&#34;
__pubdate__ = &#34;&#34;

__all__ = [
    &#34;__version__&#34;,
    &#34;__pubdate__&#34;,
    # numeric
    &#34;commafy&#34;,
    &#34;NumFormat&#34;,
    &#34;to_alpha&#34;,
    &#34;to_cardinal&#34;,
    &#34;to_decimal&#34;,
    &#34;to_nth&#34;,
    &#34;to_ordinal&#34;,
    &#34;to_roman&#34;,
    # filters
    &#34;compound&#34;,
    &#34;day_of_month&#34;,
    &#34;dollars&#34;,
    &#34;USD&#34;,
    # xref
    &#34;Division&#34;,
    &#34;Ref&#34;,
    &#34;RefFormat&#34;,
    &#34;Refs&#34;,
    &#34;slugify&#34;,
]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="inkfill.filters" href="filters.html">inkfill.filters</a></code></dt>
<dd>
<div class="desc"><p>Common helper functions.</p></div>
</dd>
<dt><code class="name"><a title="inkfill.numerals" href="numerals.html">inkfill.numerals</a></code></dt>
<dd>
<div class="desc"><p><a href="https://en.wikipedia.org/wiki/Numeral_system">Numeral systems</a>.</p></div>
</dd>
<dt><code class="name"><a title="inkfill.registry" href="registry.html">inkfill.registry</a></code></dt>
<dd>
<div class="desc"><p>Name registry.</p></div>
</dd>
<dt><code class="name"><a title="inkfill.xref" href="xref.html">inkfill.xref</a></code></dt>
<dd>
<div class="desc"><p>Cross-reference helpers.</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="inkfill.commafy"><code class="name flex">
<span>def <span class="ident">commafy</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return a comma-grouped number.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def commafy(num: int) -&gt; str:
    &#34;&#34;&#34;Return a comma-grouped number.&#34;&#34;&#34;
    return f&#34;{num:,}&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.to_alpha"><code class="name flex">
<span>def <span class="ident">to_alpha</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>English alphabetical numerals.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_alpha(num: int) -&gt; str:
    &#34;&#34;&#34;English alphabetical numerals.&#34;&#34;&#34;
    # https://en.wikipedia.org/wiki/English_alphabet
    result = &#34;&#34;
    if num &lt; 1:
        return result

    while num &gt; 0:
        num, remainder = divmod(num - 1, 26)
        result = ALPHABET[remainder] + result

    return result</code></pre>
</details>
</dd>
<dt id="inkfill.to_cardinal"><code class="name flex">
<span>def <span class="ident">to_cardinal</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>English cardinal numerals.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_cardinal(num: int) -&gt; str:
    &#34;&#34;&#34;English cardinal numerals.&#34;&#34;&#34;
    # https://en.wikipedia.org/wiki/Cardinal_numeral
    # See: https://stackoverflow.com/a/54018199
    if num == 0:
        return &#34;zero&#34;
    if num &lt; 0:
        return _space_join(&#34;negative&#34;, _pos(-num))
    return _pos(num)</code></pre>
</details>
</dd>
<dt id="inkfill.to_decimal"><code class="name flex">
<span>def <span class="ident">to_decimal</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Decimal numerals.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_decimal(num: int) -&gt; str:
    &#34;&#34;&#34;Decimal numerals.&#34;&#34;&#34;
    # https://en.wikipedia.org/wiki/Decimal
    return str(num)</code></pre>
</details>
</dd>
<dt id="inkfill.to_nth"><code class="name flex">
<span>def <span class="ident">to_nth</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Numeric ordinal numerals ("1st", "2nd").</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_nth(num: int) -&gt; str:
    &#34;&#34;&#34;Numeric ordinal numerals (&#34;1st&#34;, &#34;2nd&#34;).&#34;&#34;&#34;
    # https://en.wikipedia.org/wiki/Ordinal_numeral
    if 10 &lt;= num % 100 &lt;= 20:
        suffix = &#34;th&#34;
    else:
        suffixes = {1: &#34;st&#34;, 2: &#34;nd&#34;, 3: &#34;rd&#34;}
        suffix = suffixes.get(num % 10, &#34;th&#34;)
    return str(num) + suffix</code></pre>
</details>
</dd>
<dt id="inkfill.to_ordinal"><code class="name flex">
<span>def <span class="ident">to_ordinal</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>English ordinal numerals ("first", "second").</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_ordinal(num: int) -&gt; str:
    &#34;&#34;&#34;English ordinal numerals (&#34;first&#34;, &#34;second&#34;).&#34;&#34;&#34;
    # https://en.wikipedia.org/wiki/Ordinal_numeral
    cardinal = to_cardinal(num)
    for check, suffix in ORDINAL_SUFFIXES.items():
        if cardinal.endswith(check):
            return cardinal[: -len(check)] + suffix
    return cardinal + &#34;th&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.to_roman"><code class="name flex">
<span>def <span class="ident">to_roman</span></span>(<span>num: int) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return the <a href="https://en.wikipedia.org/wiki/Roman_numerals">Roman numeral</a>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_roman(num: int) -&gt; str:
    &#34;&#34;&#34;Return the [Roman numeral](https://en.wikipedia.org/wiki/Roman_numerals).&#34;&#34;&#34;
    result = &#34;&#34;
    if num &lt; 1:
        return result

    idx = 0
    while num &gt; 0:
        for _ in range(num // ROMAN_VALS[idx]):
            result += ROMAN_SYMS[idx]
            num -= ROMAN_VALS[idx]
        idx += 1
    return result</code></pre>
</details>
</dd>
<dt id="inkfill.compound"><code class="name flex">
<span>def <span class="ident">compound</span></span>(<span>clauses: List[str], conjunction: Literal['for', 'and', 'nor', 'but', 'or', 'yet', 'so'] = 'and', oxford: bool = True) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return <code>clauses</code> connected with <code>conjunction</code> and Oxford comma (optional).</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def compound(
    clauses: List[str],
    conjunction: FANBOYS = &#34;and&#34;,
    oxford: bool = True,
) -&gt; str:
    &#34;&#34;&#34;Return `clauses` connected with `conjunction` and Oxford comma (optional).&#34;&#34;&#34;
    L = len(clauses)
    if L == 0:
        return &#34;&#34;
    if L == 1:
        return clauses[0]
    if L == 2:
        return f&#34; {conjunction} &#34;.join(clauses)

    first = &#34;, &#34;.join(clauses[0:-1])
    last = clauses[-1]
    return f&#34;{first}{&#39;,&#39; if oxford else &#39;&#39;} {conjunction} {last}&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.day_of_month"><code class="name flex">
<span>def <span class="ident">day_of_month</span></span>(<span>dt: datetime.datetime) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return date as <code>{nth} day of {month} {year}</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def day_of_month(dt: datetime) -&gt; str:
    &#34;&#34;&#34;Return date as `{nth} day of {month} {year}`.&#34;&#34;&#34;
    return f&#34;{to_nth(dt.day)} day of {dt.strftime(&#39;%B %Y&#39;)}&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.dollars"><code class="name flex">
<span>def <span class="ident">dollars</span></span>(<span>num: float) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return spelled-out dollars. Commonly used in contracts.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def dollars(num: float) -&gt; str:
    &#34;&#34;&#34;Return spelled-out dollars. Commonly used in contracts.&#34;&#34;&#34;
    dec = Decimal(str(num))

    whole = int(dec)
    part = dec % 1
    if Decimal(&#34;0&#34;) &lt; part &lt; Decimal(&#34;0.01&#34;):  # sub-cent
        return USD(num, cents=True)

    result = &#34;&#34;
    if whole or num == 0:
        result += f&#34;{say_number(whole)} dollar{&#39;s&#39; if whole != 1 else &#39;&#39;}&#34;

    if whole and part:
        result += &#34; and &#34;

    if part:
        part *= 100
        result += f&#34;{say_number(int(part))} cent{&#39;s&#39; if part != 1 else &#39;&#39;}&#34;
    elif num != 0:
        result += &#34; exactly&#34;

    result += f&#34; ({USD(num, cents=part &gt; 0 or num &lt; 10)})&#34;
    return result</code></pre>
</details>
</dd>
<dt id="inkfill.USD"><code class="name flex">
<span>def <span class="ident">USD</span></span>(<span>num: float, cents: bool = False) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return formatted US Dollars.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def USD(num: float, cents: bool = False) -&gt; str:
    &#34;&#34;&#34;Return formatted US Dollars.&#34;&#34;&#34;
    if cents:
        if 0 &lt; num &lt; 0.01:
            return f&#34;US${num}&#34;
        return f&#34;US${num:,.2f}&#34;
    return f&#34;US${num:,}&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.slugify"><code class="name flex">
<span>def <span class="ident">slugify</span></span>(<span>*names: str) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return a slug version of a name.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def slugify(*names: str) -&gt; str:
    &#34;&#34;&#34;Return a slug version of a name.&#34;&#34;&#34;
    return RE_REPEATED_DASH.sub(
        &#34;-&#34;, RE_NON_SLUG.sub(&#34;-&#34;, &#34;-&#34;.join(names).lower())
    ).strip(&#34;-&#34;)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="inkfill.NumFormat"><code class="flex name class">
<span>class <span class="ident">NumFormat</span></span>
<span>(</span><span>name: str, numeral: NUMERAL_FUNC, prefix: str = '', suffix: str = '')</span>
</code></dt>
<dd>
<div class="desc"><p>Numeral formatter.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NumFormat(Registrable):
    &#34;&#34;&#34;Numeral formatter.&#34;&#34;&#34;

    name: str
    &#34;&#34;&#34;Numeral system name.&#34;&#34;&#34;

    numeral: NUMERAL_FUNC
    &#34;&#34;&#34;Function that converts an integer to a numeral.&#34;&#34;&#34;

    prefix: str = &#34;&#34;
    &#34;&#34;&#34;Prefix string when rendering.&#34;&#34;&#34;

    suffix: str = &#34;&#34;
    &#34;&#34;&#34;Suffix string when rendering.&#34;&#34;&#34;

    def render(self, num: int, punctuation: bool = False) -&gt; str:
        &#34;&#34;&#34;Render the numeral.&#34;&#34;&#34;
        val = self.numeral(num)
        return val if not punctuation else f&#34;{self.prefix}{val}{self.suffix}&#34;

    __call__ = render</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inkfill.NumFormat.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.name" href="registry.html#inkfill.registry.Registrable.name">name</a></code>
</p>
<div class="desc inherited"><p>Name of this object.</p></div>
</dd>
<dt id="inkfill.NumFormat.numeral"><code class="name">var <span class="ident">numeral</span> : Callable[[int], str]</code></dt>
<dd>
<div class="desc"><p>Function that converts an integer to a numeral.</p></div>
</dd>
<dt id="inkfill.NumFormat.prefix"><code class="name">var <span class="ident">prefix</span> : str</code></dt>
<dd>
<div class="desc"><p>Prefix string when rendering.</p></div>
</dd>
<dt id="inkfill.NumFormat.suffix"><code class="name">var <span class="ident">suffix</span> : str</code></dt>
<dd>
<div class="desc"><p>Suffix string when rendering.</p></div>
</dd>
<dt id="inkfill.NumFormat.DEFAULT"><code class="name">var <span class="ident">DEFAULT</span> : <a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.DEFAULT" href="registry.html#inkfill.registry.Registrable.DEFAULT">DEFAULT</a></code>
</p>
<div class="desc inherited"><p>Default value of this type.</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="inkfill.NumFormat.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>name: Union[str, <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>], default: Optional[<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>] = None) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.get" href="registry.html#inkfill.registry.Registrable.get">get</a></code>
</p>
<div class="desc inherited"><p>Get the requested named object.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inkfill.NumFormat.render"><code class="name flex">
<span>def <span class="ident">render</span></span>(<span>self, num: int, punctuation: bool = False) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Render the numeral.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def render(self, num: int, punctuation: bool = False) -&gt; str:
    &#34;&#34;&#34;Render the numeral.&#34;&#34;&#34;
    val = self.numeral(num)
    return val if not punctuation else f&#34;{self.prefix}{val}{self.suffix}&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.NumFormat.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self: <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>, override: bool = False) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.add" href="registry.html#inkfill.registry.Registrable.add">add</a></code>
</p>
<div class="desc inherited"><p>Add this name to the registry.</p></div>
</dd>
</dl>
</dd>
<dt id="inkfill.Division"><code class="flex name class">
<span>class <span class="ident">Division</span></span>
<span>(</span><span>name: str, numeral: <a title="inkfill.NumFormat" href="#inkfill.NumFormat">NumFormat</a> = NumFormat(name=&#x27;decimal&#x27;, numeral=&lt;function to_decimal&gt;, prefix=&#x27;.&#x27;, suffix=&#x27;&#x27;), define: <a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a> = RefFormat(name=&#x27;cite-name&#x27;, render=&lt;function cite_name&gt;), refer: <a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a> = RefFormat(name=&#x27;kind-cite&#x27;, render=&lt;function &lt;lambda&gt;&gt;))</span>
</code></dt>
<dd>
<div class="desc"><p>Document section.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Division(Registrable):
    &#34;&#34;&#34;Document section.&#34;&#34;&#34;

    name: str
    &#34;&#34;&#34;Name of this kind.&#34;&#34;&#34;

    numeral: NumFormat = field(default=DECIMAL)
    &#34;&#34;&#34;Default numeral formatting for this kind.&#34;&#34;&#34;

    define: RefFormat = field(default=CITE_NAME)
    &#34;&#34;&#34;Default formatting for defining a reference of this type.&#34;&#34;&#34;

    refer: RefFormat = field(default=CITE_FULL)
    &#34;&#34;&#34;Default formatting for referring to a reference of this type.&#34;&#34;&#34;

    def __str__(self) -&gt; str:
        return self.name</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inkfill.Division.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.name" href="registry.html#inkfill.registry.Registrable.name">name</a></code>
</p>
<div class="desc inherited"><p>Name of this object.</p></div>
</dd>
<dt id="inkfill.Division.numeral"><code class="name">var <span class="ident">numeral</span> : <a title="inkfill.numerals.NumFormat" href="numerals.html#inkfill.numerals.NumFormat">NumFormat</a></code></dt>
<dd>
<div class="desc"><p>Default numeral formatting for this kind.</p></div>
</dd>
<dt id="inkfill.Division.define"><code class="name">var <span class="ident">define</span> : <a title="inkfill.xref.RefFormat" href="xref.html#inkfill.xref.RefFormat">RefFormat</a></code></dt>
<dd>
<div class="desc"><p>Default formatting for defining a reference of this type.</p></div>
</dd>
<dt id="inkfill.Division.refer"><code class="name">var <span class="ident">refer</span> : <a title="inkfill.xref.RefFormat" href="xref.html#inkfill.xref.RefFormat">RefFormat</a></code></dt>
<dd>
<div class="desc"><p>Default formatting for referring to a reference of this type.</p></div>
</dd>
<dt id="inkfill.Division.DEFAULT"><code class="name">var <span class="ident">DEFAULT</span> : <a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.DEFAULT" href="registry.html#inkfill.registry.Registrable.DEFAULT">DEFAULT</a></code>
</p>
<div class="desc inherited"><p>Default value of this type.</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="inkfill.Division.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>name: Union[str, <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>], default: Optional[<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>] = None) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.get" href="registry.html#inkfill.registry.Registrable.get">get</a></code>
</p>
<div class="desc inherited"><p>Get the requested named object.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inkfill.Division.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self: <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>, override: bool = False) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.add" href="registry.html#inkfill.registry.Registrable.add">add</a></code>
</p>
<div class="desc inherited"><p>Add this name to the registry.</p></div>
</dd>
</dl>
</dd>
<dt id="inkfill.Ref"><code class="flex name class">
<span>class <span class="ident">Ref</span></span>
<span>(</span><span>name: str = '', slug: str = '', kind: <a title="inkfill.Division" href="#inkfill.Division">Division</a> = Division(name=&#x27;Section&#x27;, numeral=NumFormat(name=&#x27;decimal&#x27;, numeral=&lt;function to_decimal&gt;, prefix=&#x27;.&#x27;, suffix=&#x27;&#x27;), define=RefFormat(name=&#x27;cite-name&#x27;, render=&lt;function cite_name&gt;), refer=RefFormat(name=&#x27;kind-cite&#x27;, render=&lt;function &lt;lambda&gt;&gt;)), values: List[int] = &lt;factory&gt;, numerals: List[<a title="inkfill.NumFormat" href="#inkfill.NumFormat">NumFormat</a>] = &lt;factory&gt;, defines: List[<a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a>] = &lt;factory&gt;, refers: List[<a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a>] = &lt;factory&gt;, is_defined: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>Reference to a term or section of a document.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Ref:
    &#34;&#34;&#34;Reference to a term or section of a document.&#34;&#34;&#34;

    # `name` and `slug` are for referencing
    # `kind` and formats are for levels/sectioning.

    name: str = &#34;&#34;
    &#34;&#34;&#34;Term or section title.&#34;&#34;&#34;

    slug: str = &#34;&#34;
    &#34;&#34;&#34;Unique ID of this reference (should include `kind` + `name`).&#34;&#34;&#34;

    kind: Division = field(default=Section)
    &#34;&#34;&#34;What kind of reference is this?&#34;&#34;&#34;

    values: List[int] = field(default_factory=list)
    &#34;&#34;&#34;Citation numeral values.&#34;&#34;&#34;

    numerals: List[NumFormat] = field(default_factory=list)
    &#34;&#34;&#34;Citation numeral formats.&#34;&#34;&#34;

    defines: List[RefFormat] = field(default_factory=list)
    &#34;&#34;&#34;Definition formats.&#34;&#34;&#34;

    refers: List[RefFormat] = field(default_factory=list)
    &#34;&#34;&#34;Reference formats.&#34;&#34;&#34;

    is_defined: bool = False
    &#34;&#34;&#34;Whether or not this reference has been defined.&#34;&#34;&#34;

    def copy(self) -&gt; Ref:
        &#34;&#34;&#34;Return a copy of this reference.&#34;&#34;&#34;
        return Ref(
            name=self.name,
            slug=self.slug,
            kind=self.kind,
            values=self.values.copy(),
            numerals=self.numerals.copy(),
            defines=self.defines.copy(),
            refers=self.refers.copy(),
        )

    def update_slug(self, slug: str = &#34;&#34;) -&gt; Ref:
        &#34;&#34;&#34;Update the slug when the name or citation has changed.&#34;&#34;&#34;
        if slug:
            self.slug = slugify(slug)
        elif self.name:
            self.slug = slugify(f&#34;{self.kind}-{self.name}&#34;)
        else:
            self.slug = slugify(f&#34;{self.kind}-{self.cite}&#34;)
        return self

    @property
    def cite(self) -&gt; str:
        &#34;&#34;&#34;Return a citation (without the `kind`) to this reference.&#34;&#34;&#34;
        return &#34;&#34;.join(
            num(val, idx &gt; 0)
            for idx, (val, num) in enumerate(zip(self.values, self.numerals))
        )

    @property
    def above_below(self) -&gt; str:
        &#34;&#34;&#34;Return &#39;above&#39; if defined, otherwise &#39;below&#39;.&#34;&#34;&#34;
        return &#34;above&#34; if self.is_defined else &#34;below&#34;

    def define(self) -&gt; str:
        &#34;&#34;&#34;Return the reference definition.&#34;&#34;&#34;
        if self.is_defined:
            raise Exception(f&#34;{self.kind} {self.slug} already defined&#34;)
        self.is_defined = True

        refer = self.kind.refer if len(self.refers) == 0 else self.refers[-1]
        define = self.kind.define if len(self.defines) == 0 else self.defines[-1]
        return f&#34;&#34;&#34;&lt;span class=&#34;def&#34; id=&#34;{self.slug}&#34; data-kind=&#34;{self.kind}&#34;
                    data-cite=&#34;{refer(self).strip()}&#34;&gt;{define(self).strip()}&lt;/span&gt;&#34;&#34;&#34;

    def refer(self) -&gt; str:
        &#34;&#34;&#34;Return a link to the reference definition.&#34;&#34;&#34;
        refer = self.kind.refer if len(self.refers) == 0 else self.refers[-1]
        return f&#34;&#34;&#34;&lt;a class=&#34;ref&#34; href=&#34;#{self.slug}&#34;
                    data-kind=&#34;{self.kind}&#34;&gt;{refer(self).strip()}&lt;/a&gt;&#34;&#34;&#34;
        # return f&#34;&#34;&#34;&lt;a class=&#34;ref&#34; href=&#34;#{self.slug}&#34; data-kind=&#34;{self.kind}&#34;&gt;&lt;/a&gt;&#34;&#34;&#34;

    __str__ = refer</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="inkfill.Ref.values"><code class="name">var <span class="ident">values</span> : List[int]</code></dt>
<dd>
<div class="desc"><p>Citation numeral values.</p></div>
</dd>
<dt id="inkfill.Ref.numerals"><code class="name">var <span class="ident">numerals</span> : List[<a title="inkfill.numerals.NumFormat" href="numerals.html#inkfill.numerals.NumFormat">NumFormat</a>]</code></dt>
<dd>
<div class="desc"><p>Citation numeral formats.</p></div>
</dd>
<dt id="inkfill.Ref.defines"><code class="name">var <span class="ident">defines</span> : List[<a title="inkfill.xref.RefFormat" href="xref.html#inkfill.xref.RefFormat">RefFormat</a>]</code></dt>
<dd>
<div class="desc"><p>Definition formats.</p></div>
</dd>
<dt id="inkfill.Ref.refers"><code class="name">var <span class="ident">refers</span> : List[<a title="inkfill.xref.RefFormat" href="xref.html#inkfill.xref.RefFormat">RefFormat</a>]</code></dt>
<dd>
<div class="desc"><p>Reference formats.</p></div>
</dd>
<dt id="inkfill.Ref.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<div class="desc"><p>Term or section title.</p></div>
</dd>
<dt id="inkfill.Ref.slug"><code class="name">var <span class="ident">slug</span> : str</code></dt>
<dd>
<div class="desc"><p>Unique ID of this reference (should include <code>kind</code> + <code>name</code>).</p></div>
</dd>
<dt id="inkfill.Ref.kind"><code class="name">var <span class="ident">kind</span> : <a title="inkfill.xref.Division" href="xref.html#inkfill.xref.Division">Division</a></code></dt>
<dd>
<div class="desc"><p>What kind of reference is this?</p></div>
</dd>
<dt id="inkfill.Ref.is_defined"><code class="name">var <span class="ident">is_defined</span> : bool</code></dt>
<dd>
<div class="desc"><p>Whether or not this reference has been defined.</p></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="inkfill.Ref.cite"><code class="name">var <span class="ident">cite</span> : str</code></dt>
<dd>
<div class="desc"><p>Return a citation (without the <code>kind</code>) to this reference.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def cite(self) -&gt; str:
    &#34;&#34;&#34;Return a citation (without the `kind`) to this reference.&#34;&#34;&#34;
    return &#34;&#34;.join(
        num(val, idx &gt; 0)
        for idx, (val, num) in enumerate(zip(self.values, self.numerals))
    )</code></pre>
</details>
</dd>
<dt id="inkfill.Ref.above_below"><code class="name">var <span class="ident">above_below</span> : str</code></dt>
<dd>
<div class="desc"><p>Return 'above' if defined, otherwise 'below'.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def above_below(self) -&gt; str:
    &#34;&#34;&#34;Return &#39;above&#39; if defined, otherwise &#39;below&#39;.&#34;&#34;&#34;
    return &#34;above&#34; if self.is_defined else &#34;below&#34;</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inkfill.Ref.copy"><code class="name flex">
<span>def <span class="ident">copy</span></span>(<span>self) ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Return a copy of this reference.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def copy(self) -&gt; Ref:
    &#34;&#34;&#34;Return a copy of this reference.&#34;&#34;&#34;
    return Ref(
        name=self.name,
        slug=self.slug,
        kind=self.kind,
        values=self.values.copy(),
        numerals=self.numerals.copy(),
        defines=self.defines.copy(),
        refers=self.refers.copy(),
    )</code></pre>
</details>
</dd>
<dt id="inkfill.Ref.update_slug"><code class="name flex">
<span>def <span class="ident">update_slug</span></span>(<span>self, slug: str = '') ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Update the slug when the name or citation has changed.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update_slug(self, slug: str = &#34;&#34;) -&gt; Ref:
    &#34;&#34;&#34;Update the slug when the name or citation has changed.&#34;&#34;&#34;
    if slug:
        self.slug = slugify(slug)
    elif self.name:
        self.slug = slugify(f&#34;{self.kind}-{self.name}&#34;)
    else:
        self.slug = slugify(f&#34;{self.kind}-{self.cite}&#34;)
    return self</code></pre>
</details>
</dd>
<dt id="inkfill.Ref.define"><code class="name flex">
<span>def <span class="ident">define</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return the reference definition.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def define(self) -&gt; str:
    &#34;&#34;&#34;Return the reference definition.&#34;&#34;&#34;
    if self.is_defined:
        raise Exception(f&#34;{self.kind} {self.slug} already defined&#34;)
    self.is_defined = True

    refer = self.kind.refer if len(self.refers) == 0 else self.refers[-1]
    define = self.kind.define if len(self.defines) == 0 else self.defines[-1]
    return f&#34;&#34;&#34;&lt;span class=&#34;def&#34; id=&#34;{self.slug}&#34; data-kind=&#34;{self.kind}&#34;
                data-cite=&#34;{refer(self).strip()}&#34;&gt;{define(self).strip()}&lt;/span&gt;&#34;&#34;&#34;</code></pre>
</details>
</dd>
<dt id="inkfill.Ref.refer"><code class="name flex">
<span>def <span class="ident">refer</span></span>(<span>self) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Return a link to the reference definition.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def refer(self) -&gt; str:
    &#34;&#34;&#34;Return a link to the reference definition.&#34;&#34;&#34;
    refer = self.kind.refer if len(self.refers) == 0 else self.refers[-1]
    return f&#34;&#34;&#34;&lt;a class=&#34;ref&#34; href=&#34;#{self.slug}&#34;
                data-kind=&#34;{self.kind}&#34;&gt;{refer(self).strip()}&lt;/a&gt;&#34;&#34;&#34;
    # return f&#34;&#34;&#34;&lt;a class=&#34;ref&#34; href=&#34;#{self.slug}&#34; data-kind=&#34;{self.kind}&#34;&gt;&lt;/a&gt;&#34;&#34;&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="inkfill.RefFormat"><code class="flex name class">
<span>class <span class="ident">RefFormat</span></span>
<span>(</span><span>name: str, render: Callable[[<a title="inkfill.Ref" href="#inkfill.Ref">Ref</a>], str])</span>
</code></dt>
<dd>
<div class="desc"><p>Reference format.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class RefFormat(Registrable):
    &#34;&#34;&#34;Reference format.&#34;&#34;&#34;

    name: str
    &#34;&#34;&#34;Reference format name.&#34;&#34;&#34;

    render: Callable[[Ref], str]
    &#34;&#34;&#34;Render the reference.&#34;&#34;&#34;

    def __call__(self, ref: Ref) -&gt; str:
        &#34;&#34;&#34;Render the reference.&#34;&#34;&#34;
        return self.render(ref)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="inkfill.RefFormat.name"><code class="name">var <span class="ident">name</span> : str</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.name" href="registry.html#inkfill.registry.Registrable.name">name</a></code>
</p>
<div class="desc inherited"><p>Name of this object.</p></div>
</dd>
<dt id="inkfill.RefFormat.render"><code class="name">var <span class="ident">render</span> : Callable[[<a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a>], str]</code></dt>
<dd>
<div class="desc"><p>Render the reference.</p></div>
</dd>
<dt id="inkfill.RefFormat.DEFAULT"><code class="name">var <span class="ident">DEFAULT</span> : <a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.DEFAULT" href="registry.html#inkfill.registry.Registrable.DEFAULT">DEFAULT</a></code>
</p>
<div class="desc inherited"><p>Default value of this type.</p></div>
</dd>
</dl>
<h3>Static methods</h3>
<dl>
<dt id="inkfill.RefFormat.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>name: Union[str, <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>], default: Optional[<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>] = None) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.get" href="registry.html#inkfill.registry.Registrable.get">get</a></code>
</p>
<div class="desc inherited"><p>Get the requested named object.</p></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inkfill.RefFormat.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self: <a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a>, override: bool = False) ‑> ~<a title="inkfill.registry.T" href="registry.html#inkfill.registry.T">T</a></span>
</code></dt>
<dd>
<p class="inheritance">
<em>Inherited from:</em>
<code><a title="inkfill.registry.Registrable" href="registry.html#inkfill.registry.Registrable">Registrable</a></code>.<code><a title="inkfill.registry.Registrable.add" href="registry.html#inkfill.registry.Registrable.add">add</a></code>
</p>
<div class="desc inherited"><p>Add this name to the registry.</p></div>
</dd>
</dl>
</dd>
<dt id="inkfill.Refs"><code class="flex name class">
<span>class <span class="ident">Refs</span></span>
</code></dt>
<dd>
<div class="desc"><p>Reference manager.</p>
<p>Construct a new reference manager.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Refs:
    &#34;&#34;&#34;Reference manager.&#34;&#34;&#34;

    stack: List[Ref]
    &#34;&#34;&#34;Current document levels.&#34;&#34;&#34;

    store: Dict[str, Ref]
    &#34;&#34;&#34;Slugs mapped to references.&#34;&#34;&#34;

    def __init__(self) -&gt; None:
        &#34;&#34;&#34;Construct a new reference manager.&#34;&#34;&#34;
        self.reset()

    def reset(self) -&gt; Refs:
        &#34;&#34;&#34;Reset the references.&#34;&#34;&#34;
        self.stack = []
        self.store = {}
        return self

    @property
    def undefined(self) -&gt; List[Ref]:
        &#34;&#34;&#34;References that were never defined.&#34;&#34;&#34;
        return [ref for ref in self.store.values() if not ref.is_defined]

    @property
    def current(self) -&gt; Ref:
        &#34;&#34;&#34;Reference to current level.&#34;&#34;&#34;
        return Ref() if len(self.stack) == 0 else self.stack[-1]

    def push(
        self,
        kind: Union[str, Division] = Section,
        # formatting overrides
        numeral: Union[str, NumFormat, None] = None,
        define: Union[str, RefFormat, None] = None,
        refer: Union[str, RefFormat, None] = None,
    ) -&gt; Refs:
        &#34;&#34;&#34;Add another level.&#34;&#34;&#34;
        level = self.current.copy()
        level.kind = Division.get(kind) or Section
        level.values.append(0)
        level.numerals.append(NumFormat.get(numeral, level.kind.numeral))
        level.defines.append(RefFormat.get(define, level.kind.define))
        level.refers.append(RefFormat.get(refer, level.kind.refer))
        self.stack.append(level)
        return self

    def up(self, name: str = &#34;&#34;, slug: str = &#34;&#34;) -&gt; Ref:
        &#34;&#34;&#34;Increment current level.&#34;&#34;&#34;
        ref = self.current.copy()
        ref.name = name
        ref.values[-1] += 1
        ref.update_slug(slug)  # needs name &amp; values updated
        self.stack[-1] = ref
        self.store[ref.slug] = ref
        return ref

    def pop(self, num: int = 1) -&gt; Refs:
        &#34;&#34;&#34;Remove one or more level.&#34;&#34;&#34;
        for _ in range(num):
            if len(self.stack) == 0:
                break
            self.stack.pop()
        return self

    ## Short-hand
    def add(self, ref: Ref) -&gt; Ref:
        &#34;&#34;&#34;Add a ref to the store.&#34;&#34;&#34;
        self.store[ref.slug] = ref
        return ref

    def term(self, name: str) -&gt; Ref:
        &#34;&#34;&#34;Refer to a terms.&#34;&#34;&#34;
        slug = slugify(&#34;term&#34;, name)
        if slug in self.store:
            return self.store[slug]
        return self.add(Ref(name=name, kind=Term).update_slug())

    def see(self, name: str = &#34;&#34;, kind: str = &#34;Section&#34;, slug: str = &#34;&#34;) -&gt; Ref:
        &#34;&#34;&#34;Refer to a reference.&#34;&#34;&#34;
        if slug in self.store:
            return self.store[slug]
        return self.add(Ref(name=name, kind=Division.get(kind)).update_slug(slug))</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="inkfill.Refs.stack"><code class="name">var <span class="ident">stack</span> : List[<a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a>]</code></dt>
<dd>
<div class="desc"><p>Current document levels.</p></div>
</dd>
<dt id="inkfill.Refs.store"><code class="name">var <span class="ident">store</span> : Dict[str, <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a>]</code></dt>
<dd>
<div class="desc"><p>Slugs mapped to references.</p></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="inkfill.Refs.undefined"><code class="name">var <span class="ident">undefined</span> : List[<a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a>]</code></dt>
<dd>
<div class="desc"><p>References that were never defined.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def undefined(self) -&gt; List[Ref]:
    &#34;&#34;&#34;References that were never defined.&#34;&#34;&#34;
    return [ref for ref in self.store.values() if not ref.is_defined]</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.current"><code class="name">var <span class="ident">current</span> : <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></code></dt>
<dd>
<div class="desc"><p>Reference to current level.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def current(self) -&gt; Ref:
    &#34;&#34;&#34;Reference to current level.&#34;&#34;&#34;
    return Ref() if len(self.stack) == 0 else self.stack[-1]</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="inkfill.Refs.reset"><code class="name flex">
<span>def <span class="ident">reset</span></span>(<span>self) ‑> <a title="inkfill.xref.Refs" href="xref.html#inkfill.xref.Refs">Refs</a></span>
</code></dt>
<dd>
<div class="desc"><p>Reset the references.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def reset(self) -&gt; Refs:
    &#34;&#34;&#34;Reset the references.&#34;&#34;&#34;
    self.stack = []
    self.store = {}
    return self</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.push"><code class="name flex">
<span>def <span class="ident">push</span></span>(<span>self, kind: Union[str, <a title="inkfill.Division" href="#inkfill.Division">Division</a>] = Division(name=&#x27;Section&#x27;, numeral=NumFormat(name=&#x27;decimal&#x27;, numeral=&lt;function to_decimal&gt;, prefix=&#x27;.&#x27;, suffix=&#x27;&#x27;), define=RefFormat(name=&#x27;cite-name&#x27;, render=&lt;function cite_name&gt;), refer=RefFormat(name=&#x27;kind-cite&#x27;, render=&lt;function &lt;lambda&gt;&gt;)), numeral: Union[str, <a title="inkfill.NumFormat" href="#inkfill.NumFormat">NumFormat</a>, None] = None, define: Union[str, <a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a>, None] = None, refer: Union[str, <a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a>, None] = None) ‑> <a title="inkfill.xref.Refs" href="xref.html#inkfill.xref.Refs">Refs</a></span>
</code></dt>
<dd>
<div class="desc"><p>Add another level.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def push(
    self,
    kind: Union[str, Division] = Section,
    # formatting overrides
    numeral: Union[str, NumFormat, None] = None,
    define: Union[str, RefFormat, None] = None,
    refer: Union[str, RefFormat, None] = None,
) -&gt; Refs:
    &#34;&#34;&#34;Add another level.&#34;&#34;&#34;
    level = self.current.copy()
    level.kind = Division.get(kind) or Section
    level.values.append(0)
    level.numerals.append(NumFormat.get(numeral, level.kind.numeral))
    level.defines.append(RefFormat.get(define, level.kind.define))
    level.refers.append(RefFormat.get(refer, level.kind.refer))
    self.stack.append(level)
    return self</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.up"><code class="name flex">
<span>def <span class="ident">up</span></span>(<span>self, name: str = '', slug: str = '') ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Increment current level.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def up(self, name: str = &#34;&#34;, slug: str = &#34;&#34;) -&gt; Ref:
    &#34;&#34;&#34;Increment current level.&#34;&#34;&#34;
    ref = self.current.copy()
    ref.name = name
    ref.values[-1] += 1
    ref.update_slug(slug)  # needs name &amp; values updated
    self.stack[-1] = ref
    self.store[ref.slug] = ref
    return ref</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.pop"><code class="name flex">
<span>def <span class="ident">pop</span></span>(<span>self, num: int = 1) ‑> <a title="inkfill.xref.Refs" href="xref.html#inkfill.xref.Refs">Refs</a></span>
</code></dt>
<dd>
<div class="desc"><p>Remove one or more level.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pop(self, num: int = 1) -&gt; Refs:
    &#34;&#34;&#34;Remove one or more level.&#34;&#34;&#34;
    for _ in range(num):
        if len(self.stack) == 0:
            break
        self.stack.pop()
    return self</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.add"><code class="name flex">
<span>def <span class="ident">add</span></span>(<span>self, ref: <a title="inkfill.Ref" href="#inkfill.Ref">Ref</a>) ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Add a ref to the store.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def add(self, ref: Ref) -&gt; Ref:
    &#34;&#34;&#34;Add a ref to the store.&#34;&#34;&#34;
    self.store[ref.slug] = ref
    return ref</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.term"><code class="name flex">
<span>def <span class="ident">term</span></span>(<span>self, name: str) ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Refer to a terms.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def term(self, name: str) -&gt; Ref:
    &#34;&#34;&#34;Refer to a terms.&#34;&#34;&#34;
    slug = slugify(&#34;term&#34;, name)
    if slug in self.store:
        return self.store[slug]
    return self.add(Ref(name=name, kind=Term).update_slug())</code></pre>
</details>
</dd>
<dt id="inkfill.Refs.see"><code class="name flex">
<span>def <span class="ident">see</span></span>(<span>self, name: str = '', kind: str = 'Section', slug: str = '') ‑> <a title="inkfill.xref.Ref" href="xref.html#inkfill.xref.Ref">Ref</a></span>
</code></dt>
<dd>
<div class="desc"><p>Refer to a reference.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def see(self, name: str = &#34;&#34;, kind: str = &#34;Section&#34;, slug: str = &#34;&#34;) -&gt; Ref:
    &#34;&#34;&#34;Refer to a reference.&#34;&#34;&#34;
    if slug in self.store:
        return self.store[slug]
    return self.add(Ref(name=name, kind=Division.get(kind)).update_slug(slug))</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#why">Why?</a></li>
<li><a href="#license">License</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="inkfill.filters" href="filters.html">inkfill.filters</a></code></li>
<li><code><a title="inkfill.numerals" href="numerals.html">inkfill.numerals</a></code></li>
<li><code><a title="inkfill.registry" href="registry.html">inkfill.registry</a></code></li>
<li><code><a title="inkfill.xref" href="xref.html">inkfill.xref</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="inkfill.commafy" href="#inkfill.commafy">commafy</a></code></li>
<li><code><a title="inkfill.to_alpha" href="#inkfill.to_alpha">to_alpha</a></code></li>
<li><code><a title="inkfill.to_cardinal" href="#inkfill.to_cardinal">to_cardinal</a></code></li>
<li><code><a title="inkfill.to_decimal" href="#inkfill.to_decimal">to_decimal</a></code></li>
<li><code><a title="inkfill.to_nth" href="#inkfill.to_nth">to_nth</a></code></li>
<li><code><a title="inkfill.to_ordinal" href="#inkfill.to_ordinal">to_ordinal</a></code></li>
<li><code><a title="inkfill.to_roman" href="#inkfill.to_roman">to_roman</a></code></li>
<li><code><a title="inkfill.compound" href="#inkfill.compound">compound</a></code></li>
<li><code><a title="inkfill.day_of_month" href="#inkfill.day_of_month">day_of_month</a></code></li>
<li><code><a title="inkfill.dollars" href="#inkfill.dollars">dollars</a></code></li>
<li><code><a title="inkfill.USD" href="#inkfill.USD">USD</a></code></li>
<li><code><a title="inkfill.slugify" href="#inkfill.slugify">slugify</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="inkfill.NumFormat" href="#inkfill.NumFormat">NumFormat</a></code></h4>
<ul class="two-column">
<li><code><a title="inkfill.NumFormat.get" href="registry.html#inkfill.NumFormat.get">get</a></code></li>
<li><code><a title="inkfill.NumFormat.render" href="#inkfill.NumFormat.render">render</a></code></li>
<li><code><a title="inkfill.NumFormat.add" href="registry.html#inkfill.NumFormat.add">add</a></code></li>
<li><code><a title="inkfill.NumFormat.name" href="#inkfill.NumFormat.name">name</a></code></li>
<li><code><a title="inkfill.NumFormat.numeral" href="#inkfill.NumFormat.numeral">numeral</a></code></li>
<li><code><a title="inkfill.NumFormat.prefix" href="#inkfill.NumFormat.prefix">prefix</a></code></li>
<li><code><a title="inkfill.NumFormat.suffix" href="#inkfill.NumFormat.suffix">suffix</a></code></li>
<li><code><a title="inkfill.NumFormat.DEFAULT" href="#inkfill.NumFormat.DEFAULT">DEFAULT</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inkfill.Division" href="#inkfill.Division">Division</a></code></h4>
<ul class="two-column">
<li><code><a title="inkfill.Division.get" href="registry.html#inkfill.Division.get">get</a></code></li>
<li><code><a title="inkfill.Division.add" href="registry.html#inkfill.Division.add">add</a></code></li>
<li><code><a title="inkfill.Division.name" href="#inkfill.Division.name">name</a></code></li>
<li><code><a title="inkfill.Division.numeral" href="#inkfill.Division.numeral">numeral</a></code></li>
<li><code><a title="inkfill.Division.define" href="#inkfill.Division.define">define</a></code></li>
<li><code><a title="inkfill.Division.refer" href="#inkfill.Division.refer">refer</a></code></li>
<li><code><a title="inkfill.Division.DEFAULT" href="#inkfill.Division.DEFAULT">DEFAULT</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inkfill.Ref" href="#inkfill.Ref">Ref</a></code></h4>
<ul class="two-column">
<li><code><a title="inkfill.Ref.copy" href="#inkfill.Ref.copy">copy</a></code></li>
<li><code><a title="inkfill.Ref.update_slug" href="#inkfill.Ref.update_slug">update_slug</a></code></li>
<li><code><a title="inkfill.Ref.define" href="#inkfill.Ref.define">define</a></code></li>
<li><code><a title="inkfill.Ref.refer" href="#inkfill.Ref.refer">refer</a></code></li>
<li><code><a title="inkfill.Ref.cite" href="#inkfill.Ref.cite">cite</a></code></li>
<li><code><a title="inkfill.Ref.above_below" href="#inkfill.Ref.above_below">above_below</a></code></li>
<li><code><a title="inkfill.Ref.values" href="#inkfill.Ref.values">values</a></code></li>
<li><code><a title="inkfill.Ref.numerals" href="#inkfill.Ref.numerals">numerals</a></code></li>
<li><code><a title="inkfill.Ref.defines" href="#inkfill.Ref.defines">defines</a></code></li>
<li><code><a title="inkfill.Ref.refers" href="#inkfill.Ref.refers">refers</a></code></li>
<li><code><a title="inkfill.Ref.name" href="#inkfill.Ref.name">name</a></code></li>
<li><code><a title="inkfill.Ref.slug" href="#inkfill.Ref.slug">slug</a></code></li>
<li><code><a title="inkfill.Ref.kind" href="#inkfill.Ref.kind">kind</a></code></li>
<li><code><a title="inkfill.Ref.is_defined" href="#inkfill.Ref.is_defined">is_defined</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inkfill.RefFormat" href="#inkfill.RefFormat">RefFormat</a></code></h4>
<ul class="">
<li><code><a title="inkfill.RefFormat.get" href="registry.html#inkfill.RefFormat.get">get</a></code></li>
<li><code><a title="inkfill.RefFormat.add" href="registry.html#inkfill.RefFormat.add">add</a></code></li>
<li><code><a title="inkfill.RefFormat.name" href="#inkfill.RefFormat.name">name</a></code></li>
<li><code><a title="inkfill.RefFormat.render" href="#inkfill.RefFormat.render">render</a></code></li>
<li><code><a title="inkfill.RefFormat.DEFAULT" href="#inkfill.RefFormat.DEFAULT">DEFAULT</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="inkfill.Refs" href="#inkfill.Refs">Refs</a></code></h4>
<ul class="two-column">
<li><code><a title="inkfill.Refs.reset" href="#inkfill.Refs.reset">reset</a></code></li>
<li><code><a title="inkfill.Refs.push" href="#inkfill.Refs.push">push</a></code></li>
<li><code><a title="inkfill.Refs.up" href="#inkfill.Refs.up">up</a></code></li>
<li><code><a title="inkfill.Refs.pop" href="#inkfill.Refs.pop">pop</a></code></li>
<li><code><a title="inkfill.Refs.add" href="#inkfill.Refs.add">add</a></code></li>
<li><code><a title="inkfill.Refs.term" href="#inkfill.Refs.term">term</a></code></li>
<li><code><a title="inkfill.Refs.see" href="#inkfill.Refs.see">see</a></code></li>
<li><code><a title="inkfill.Refs.undefined" href="#inkfill.Refs.undefined">undefined</a></code></li>
<li><code><a title="inkfill.Refs.current" href="#inkfill.Refs.current">current</a></code></li>
<li><code><a title="inkfill.Refs.stack" href="#inkfill.Refs.stack">stack</a></code></li>
<li><code><a title="inkfill.Refs.store" href="#inkfill.Refs.store">store</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>